---
spec_version: 1
kind: application
inputs:
  - DB_URL
  - DOCKER_TAG
infrastructure:
  connectivity:
    internal:
      - port_info:
          port: 7000
  compute:
    spec:
      kubernetes:
        cpu: 250m
        ram: 64Mi
configuration:
  initialization:
    script: todo-api.sh
  start:
    script: todo-api-command.sh
  healthcheck:
    timeout: 100
    wait_for_ports: ALL
source:
  image:
    docker_image:
      - name: colonysamples/todo-api
        tag: $DOCKER_TAG
  os_type: linux
